local Translations = {
    ["FE R15 Animation Player"] = "FE R15 动画播放器",
    ["Stop All"] = "全部停止",
    ["Search for Animations..."] = "搜索动画...",
    ["California Girls"] = "加州女孩",
    ["Helicopter"] = "直升机",
    ["Helicopter 2"] = "直升机2",
    ["Helicopter 3"] = "直升机3",
    ["Da Hood Dance"] = "街头舞蹈",
    ["Da Hood Stomp"] = "街头跺脚",
    ["Flopping Fish"] = "扑腾的鱼",
    ["Gangnam Style"] = "江南Style",
    ["CaramelIdansen"] = "焦糖舞",
    ["Air Circle"] = "空中画圈",
    ["Heart Left"] = "爱心向左",
    ["Heart Right"] = "爱心向右",
    ["Dog"] = "狗狗",
    ["MM2 Zen"] = "MM2禅意",
    ["Default Dance"] = "默认舞蹈",
    ["Sit"] = "坐下",
    ["Vanderbilt Wink"] = "范德比尔特眨眼",
    ["Einhir Stanna"] = "艾因希尔站立",
    ["Kazotsky Kick"] = "哥萨克踢腿舞",
    ["Fight Stance"] = "战斗姿态",
    ["Oh Who Is You"] = "哦你是谁",
    ["Sway Sit"] = "摇摆坐姿",
    ["Sway Sit 2"] = "摇摆坐姿2",
    ["The Worm"] = "蠕虫舞",
    ["Snake"] = "蛇舞",
    ["Peter Griffin Death"] = "彼得格里芬之死",
    ["Death"] = "死亡",
    ["Walter Scene"] = "沃尔特场景",
    ["Cute Stomach Lay"] = "可爱趴卧",
    ["Shadow Dio Pose"] = "暗影DIO姿势",
    ["Jotaro Pose"] = "承太郎姿势",
    ["Jojo Pose"] = "Jojo姿势",
    ["Float Lay"] = "漂浮躺姿",
    ["Biblically Accurate"] = "圣经准确",
    ["Headless"] = "无头",
    ["ME!ME!ME!"] = "我！我！我！",
    ["Plane"] = "飞机",
    ["XavierSoBased"] = "泽维尔如此基于",
    ["Chinese Dance"] = "中国舞",
    ["Slickback"] = "滑行后退",
    ["Car"] = "汽车",
    ["Beat Da Koto Nai"] = "击败古筝内",
    ["Tank"] = "坦克",
    ["Classic Walk"] = "经典行走",
    ["Weird Creature"] = "奇怪生物",
    ["Skibidi Toilet"] = "Skibidi马桶",
    ["Rolling Crybaby"] = "滚动爱哭鬼",
    ["Thinking"] = "思考",
    ["Fake Death"] = "假死",
    ["Laced"] = "系带",
    ["Fit Check"] = "穿搭检查",
    ["Surrender"] = "投降",
    ["Assumptions"] = "假设",
    ["Griddy"] = "Griddy舞",
    ["Basketball Head"] = "篮球头",
    ["Take The L"] = "认输",
    ["Basketball Head Spin"] = "篮球头旋转",
    ["Parrot Dance"] = "鹦鹉舞",
    ["Shot"] = "射击",
    ["Ragdoll"] = "布娃娃",
    ["Sad Sit"] = "悲伤坐姿",
    ["Soda Pop"] = "汽水",
    ["Billy Bounce"] = "比利弹跳",
    ["Ballin"] = "球进",
    ["Jackhammer"] = "手持凿岩机",
    ["Monster Mash"] = "怪物混搭",
    ["Fumo Plush"] = "Fumo毛绒",
    ["Rizz Backflip"] = "魅力后空翻",
    ["Float"] = "漂浮",
    ["Hi"] = "你好",
    ["Possessed"] = "附身",
    ["Fuck you!"] = "去你的！",
    ["Silver Surfer"] = "银影侠",
    ["Tall Thing Idk"] = "高大的东西我不知道",
    ["Cat Sit"] = "猫咪坐姿",
    ["Black Flash"] = "黑闪"
}

       

local function translateText(text)
    if not text or type(text) ~= "string" then return text end
    
    if Translations[text] then
        return Translations[text]
    end
    
    for en, cn in pairs(Translations) do
        if text:find(en) then
            return text:gsub(en, cn)
        end
    end
    
    return text
end

local function setupTranslationEngine()
    local success, err = pcall(function()
        local oldIndex = getrawmetatable(game).__newindex
        setreadonly(getrawmetatable(game), false)
        
        getrawmetatable(game).__newindex = newcclosure(function(t, k, v)
            if (t:IsA("TextLabel") or t:IsA("TextButton") or t:IsA("TextBox")) and k == "Text" then
                v = translateText(tostring(v))
            end
            return oldIndex(t, k, v)
        end)
        
        setreadonly(getrawmetatable(game), true)
    end)
    
    if not success then
        warn("元表劫持失败:", err)
       
        local translated = {}
        local function scanAndTranslate()
            for _, gui in ipairs(game:GetService("CoreGui"):GetDescendants()) do
                if (gui:IsA("TextLabel") or gui:IsA("TextButton") or gui:IsA("TextBox")) and not translated[gui] then
                    pcall(function()
                        local text = gui.Text
                        if text and text ~= "" then
                            local translatedText = translateText(text)
                            if translatedText ~= text then
                                gui.Text = translatedText
                                translated[gui] = true
                            end
                        end
                    end)
                end
            end
            
            local player = game:GetService("Players").LocalPlayer
            if player and player:FindFirstChild("PlayerGui") then
                for _, gui in ipairs(player.PlayerGui:GetDescendants()) do
                    if (gui:IsA("TextLabel") or gui:IsA("TextButton") or gui:IsA("TextBox")) and not translated[gui] then
                        pcall(function()
                            local text = gui.Text
                            if text and text ~= "" then
                                local translatedText = translateText(text)
                                if translatedText ~= text then
                                    gui.Text = translatedText
                                    translated[gui] = true
                                end
                            end
                        end)
                    end
                end
            end
        end
        
        local function setupDescendantListener(parent)
            parent.DescendantAdded:Connect(function(descendant)
                if descendant:IsA("TextLabel") or descendant:IsA("TextButton") or descendant:IsA("TextBox") then
                    task.wait(0.1)
                    pcall(function()
                        local text = descendant.Text
                        if text and text ~= "" then
                            local translatedText = translateText(text)
                            if translatedText ~= text then
                                descendant.Text = translatedText
                            end
                        end
                    end)
                end
            end)
        end
        
        pcall(setupDescendantListener, game:GetService("CoreGui"))
        local player = game:GetService("Players").LocalPlayer
        if player and player:FindFirstChild("PlayerGui") then
            pcall(setupDescendantListener, player.PlayerGui)
        end
        
        while true do
            scanAndTranslate()
            task.wait(3)
        end
    end
end

task.wait(2)

setupTranslationEngine()

local success, err = pcall(function()
loadstring(game:HttpGet("https://raw.githubusercontent.com/Boxten-Keyes/music/refs/heads/main/music%23%5Bscripts%5D/music%23%5Bmiscellaneous%5D/music%23%5Bfe%20r15%20animation%20player%5D.lua"))()


end)

if not success then
    warn("加载失败:", err)
end